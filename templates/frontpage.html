{% extends "core.html" %}

{% load djangoplicity_datetime %}
{% load media_video %}

{% block extra_header %}
	<meta property="og:title" content="ESO — The European Southern Observatory" />
	<meta property="og:description" content="Welcome to the most powerful astronomical observatories in the world." />
	<meta property="og:image" content="http://www.eso.org/public/archives/images/screen/uhd_yuri_alma_ant_cc.jpg" />
	<meta property="og:image:secure_url" content="https://www.eso.org/public/archives/images/screen/uhd_yuri_alma_ant_cc.jpg" />
{% endblock %}

{% block content_area %}
<div id="pr-carousel-wrapper">
	<div id="pr-carousel">
		{% for release in releases %}
		<div class="slide">
			<a href="{{ release.get_absolute_url }}">
			{% if release.main_image.resource_banner1920 %}
				<img draggable="false" data-lazy="{{ release.main_image.resource_banner1920.url }}" alt="{{ release.main_image.title }}">
			{% else %}
				<img draggable="false" data-lazy="{{ release.main_image.resource_wallpaper3.url }}" alt="{{ release.main_image.title }}">
			{% endif %}
			<div class="pr-content">
				<div class="pr-description">
					<div class="pr-type">{{ release.id }} — {{ release.release_type.name }}</div>
					<div class="pr-title">{{ release.title }}</div>
					<div class="pr-extra">
						<div class="pr-headline">{{ release.headline }}</div>
					</div>
				</div>
			</div>
			</a>
		</div>  <!-- slide -->
		{% endfor %}
	</div> <!-- pr-carousel -->
</div> <!-- pr-carousel-wrapper -->

<div class="container" id="body">
</div> <!-- #body -->

{% endblock content_area %}

{% block extra_scripts %}
<script type="text/javascript">

$(document).ready(function(){                                                   
	{% comment %}
	Set hover target on pr-description, this cannot be done fully in CSS         
	as the image is outside the pr-description and cannot be "attached"          
	by the standard hover                                                        
	{% endcomment %}
    $('.pr-description').hover(function() {
		$(this).parents('.pr-content').prev('img').toggleClass('hover');	
	});

	// Setup hubblecasts video
{% if hubblecasts.0 %}
	setupVideoPlayer('{{ hubblecasts.0.id }}');
{% endif %}
});                                                                             
            
</script>
{% endblock %}

{% block addthis %}
<!-- no addthis on frontpage -->
{% endblock %}
